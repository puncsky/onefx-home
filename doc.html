<!DOCType html>
<html lang="en">
  <head>
    <title data-react-helmet="true">OneFx Documentation - OneFx</title>
    <meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"/><meta data-react-helmet="true" name="description" content="Building web &amp; mobile apps with speed &amp; quality"/><meta data-react-helmet="true" name="theme-color" content="#FBB03B"/><meta data-react-helmet="true" property="og:description" content="Building web &amp; mobile apps with speed &amp; quality"/><meta data-react-helmet="true" property="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:title" content="OneFx Documentation - OneFx"/> 
    <link data-react-helmet="true" rel="manifest" href="/manifest.json"/><link data-react-helmet="true" rel="apple-touch-icon" href="/favicon.svg"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="any" href="/favicon.png"/><link data-react-helmet="true" rel="stylesheet" type="text/css" href="/stylesheets/main.css"/><link data-react-helmet="true" rel="stylesheet" type="text/css" href="/stylesheets/antd.css"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic,700italic" rel="stylesheet" type="text/css"/><link data-react-helmet="true" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet"/><link data-react-helmet="true" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css"/>
    <style data-react-helmet="true" type="text/css">
h1, h2, h3, h4, h5 {
  padding: 52px 0 8px;
  margin: -52px 0 0 !important;
  -webkit-background-clip: content-box;
  background-clip: content-box;
}
h1 > a.markdownIt-Anchor > span, h2 > a.markdownIt-Anchor > span, h3 > a.markdownIt-Anchor > span, h4 > a.markdownIt-Anchor > span, h5 > a.markdownIt-Anchor > span {
  color: transparent;}

h1:hover > a.markdownIt-Anchor > span, h2:hover > a.markdownIt-Anchor > span, h3:hover > a.markdownIt-Anchor > span, h4:hover > a.markdownIt-Anchor > span, h5:hover > a.markdownIt-Anchor > span {
  color: #dfe3e6; }

h1:hover > a.markdownIt-Anchor:hover > span, h2:hover > a.markdownIt-Anchor:hover > span, h3:hover > a.markdownIt-Anchor:hover > span, h4:hover > a.markdownIt-Anchor:hover > span, h5:hover > a.markdownIt-Anchor:hover > span {
  color: #FBB03B; }

h1:focus > a.markdownIt-Anchor:focus > span, h2:focus > a.markdownIt-Anchor:focus > span, h3:focus > a.markdownIt-Anchor:focus > span, h4:focus > a.markdownIt-Anchor:focus > span, h5:focus > a.markdownIt-Anchor:focus > span {
  color: #FBB03B; }

h2:before {
  content: "\A";
  width: 8px;
  height: 20px;
  background: #FBB03B;
  display: inline-block;
  margin: 0 10px 0 0; }

p {   word-wrap: break-word; }

.top-bar-fixed-top {position: fixed !important;top: 52px;}

.markdownIt-Link-Anchor::before {
  content: "#";
}
</style>
    <style>body{margin:0}</style>
    <style class="styletron-global">._ae{font-family:Noto Sans,Helvetica Neue,sans-serif,Microsoft YaHei !important}._af{background-color:#fff}._ag{color:#333333}._ah{text-rendering:optimizeLegibility}._ai{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}._aj{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}._ak{-webkit-box-pack:justify;justify-content:space-between}._al{-webkit-box-align:center;align-items:center}._am{line-height:52px}._an{height:52px}._ao{background-color:#2E3235}._ap{color:#fff}._aq{position:fixed}._ar{top:0px}._as{left:0px}._at{width:100%}._au{z-index:70}._ax{padding-left:6.6vw}._ay{padding-right:6.6vw}._b1{box-sizing:border-box}._b2{width:52px}._b3{background-repeat:no-repeat}._b4{background-position:center}._b5{background-size:contain}._b6{background-image:url("/favicon.svg")}._b7{height:100%}._b8{margin:0}._b9{margin:8px}._ba{margin-left:0}._bb{text-decoration:none}._bc:hover{color:#FBB03B}._bd{-webkit-transition:all 0.2s ease;-moz-transition:all 0.2s ease;transition:all 0.2s ease}._be{font-weight:bold}._bf{display:flex!important}._bh{margin-left:14px}._bm{display:none!important}._bo{cursor:pointer}._bp{-webkit-box-pack:center;justify-content:center}._bq{padding:5px}._br{display:block}._bs{padding:26px 26px 26px 26px}._bt{-webkit-box-flex:1}._bu{-webkit-justify-content:center}._bv{-webkit-box-lines:multiple;flex-wrap:wrap}._bw{align-content:auto}._bx{height:auto}._by{background-color:auto}._bz{width:auto}._c0{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}._c1{-webkit-justify-content:space-between}._c2{align-content:flex-end!important}._c3{width:68%}._c4{max-width:680px}._c5{color:#404040!important}._c6{width:32%}._c8{padding-top:32px}._c9{padding-bottom:32px}._ca{height:89px}._cb{background-color:#575a5d}</style><style class="styletron-global" media="only screen and (min-width: 1281px)">._az{padding-left:16vw}._b0{padding-right:16vw}</style><style class="styletron-global" media="only screen and (max-width: 575px)">._av{padding-left:16px}._aw{padding-right:16px}._bg{display:none!important}._bi{box-sizing:border-box}._bj{width:100%}._bk{padding:16px 0 16px 0}._bl{border-bottom:1px #EDEDED solid}._bn{display:flex!important}._c7{display:none}</style>
    <script id="json-globals" type="application/json">{"state":{"base":{"analytics":{"googleTid":"UA-43072488-3"},"csrfToken":"q5ti1Ee2-HdEAi3elnCKnshJP7XHanjc-f3s","translations":{"meta.title":"OneFx","meta.description":"Building web & mobile apps with speed & quality","topbar.brand":"OneFx","topbar.home":"HOME","not_found.bar":"Not Found","not_found.title":"Oops!","not_found.info":"We cannot find the page for you...","home.title":"Building web & mobile apps with speed & quality","home.desc":"Frontend? Backend? Mobile? No problem. One framework rules them all. No countless new APIs to learn. Just build fast with the tools you love - React, GraphQL, KOA, TypeScript, AVA, Webpack, etc.","home.get_started":"Get Started","home.section1.title":"Why OneFx?","home.section1.desc":"\u003Cp\u003EOneFx is a high-level TypeScript Web and Mobile framework that empowers rapid development, clean code, and pragmatic design. Built by experienced developers, it reduces the hassle of Web development, so you can focus on  your app, instead of reinventing the wheel. It’s free and open source. \u003C\u002Fp\u003E \u003Cul\u003E\n  \u003Cli\u003E\u003Cstrong\u003EBlazingly fast.\u003C\u002Fstrong\u003E Enjoy the modern dev technologies that are ready out of the box. If you know React, GraphQL, and KOA, you are already the master of OneFx, while other frameworks introduce way more new APIs than what you need. \u003C\u002Fli\u003E\n  \u003Cli\u003E\u003Cstrong\u003EHorizontally scalable.\u003C\u002Fstrong\u003E OneFx is Internet scale but without the complexity of complete separation of frontend and backend.\u003C\u002Fli\u003E\n  \u003Cli\u003E\u003Cstrong\u003ETightly Secure\u003C\u002Fstrong\u003E OneFx takes security seriously and helps developers avoid many common security mistakes.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E","topbar.doc":"DOCUMENT","topbar.contributing":"CONTRIBUTING","footer.built_with_love":"Built with \u003Cspan style=\"font-size: 12px; color: #F27788;\"\u003E♥\u003C\u002Fspan\u003E in San Francisco","home.who_s_using?":"Who is Using OneFx?","home.we_are_building":"OneFx is building fullstack Apps for these projects..."},"locale":"en","supportedLocales":["en","zh-cn"],"manifest":{"\u002Fmain.js":"main-10d706f9cbf41f3bafd0.js","\u002Fmain-10d706f9cbf41f3bafd0.js.LICENSE":"main-10d706f9cbf41f3bafd0.js.LICENSE"},"blah":"this is a sample initial state","apiGatewayUrl":"https:\u002F\u002Ftianpan.co\u002Fapi-gateway\u002F"},"apolloState":{"$ROOT_QUERY.article({\"id\":\"onefx\"})":{"title":"OneFx Documentation","contentHTML":"\u003Ch1 id=\"getting-started\"\u003EGetting Started \u003Ca class=\"markdownIt-Anchor\" href=\"#getting-started\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh1\u003E\n\u003Cp\u003EOneFx is a full-stack framework for building web apps. Here are the features you’ll find in Onefx.js:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EServer-side rendering and universal rendering with React and Redux\u003C\u002Fli\u003E\n\u003Cli\u003EApollo GraphQL (docs + playground), ES2017, TypeScript, TSX support out of the box\u003C\u002Fli\u003E\n\u003Cli\u003EServer-side development via Koa.js\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"create-a-project\"\u003ECreate a project \u003Ca class=\"markdownIt-Anchor\" href=\"#create-a-project\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Egit \u003Cspan class=\"hljs-built_in\"\u003Eclone\u003C\u002Fspan\u003E https:\u002F\u002Fgithub.com\u002Fpuncsky\u002Fweb-onefx-boilerplate.git my-awesome-project\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"run-your-project\"\u003ERun your project \u003Ca class=\"markdownIt-Anchor\" href=\"#run-your-project\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EThis is intended for *nix users. If you use Windows, go to \u003Ca href=\"#run-on-windows\"\u003ERun on Windows\u003C\u002Fa\u003E. Let’s first prepare the environment.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"hljs-built_in\"\u003Ecd\u003C\u002Fspan\u003E my-awesome-project\n\nnvm use 10.15.0\nnpm install\n\n\u003Cspan class=\"hljs-comment\"\u003E# prepare environment variable\u003C\u002Fspan\u003E\ncp .\u002F.env.tmpl .\u002F.env\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"development-mode\"\u003EDevelopment mode \u003Ca class=\"markdownIt-Anchor\" href=\"#development-mode\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ETo run your project in development mode, run:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Enpm run watch\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThe development site will be available at \u003Ca href=\"http:\u002F\u002Flocalhost:5000\"\u003Ehttp:\u002F\u002Flocalhost:5000\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"production-mode\"\u003EProduction Mode \u003Ca class=\"markdownIt-Anchor\" href=\"#production-mode\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EIt’s sometimes useful to run a project in production mode, for example, to check bundle size or to debug a production-only issue. To run your project in production mode locally, run:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Enpm run build-production\nNODE_ENV=production npm run start\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"npm-scripts\"\u003ENPM scripts \u003Ca class=\"markdownIt-Anchor\" href=\"#npm-scripts\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003Enpm run test\u003C\u002Fcode\u003E: test the whole project and generate a test coverage\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Enpm run ava .\u002Fpath\u002Fto\u002Ftest-file.js\u003C\u002Fcode\u003E: run a specific test file\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Enpm run build\u003C\u002Fcode\u003E: build source code from \u003Ccode\u003Esrc\u003C\u002Fcode\u003E to \u003Ccode\u003Edist\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Enpm run lint\u003C\u002Fcode\u003E: run the linter\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Enpm run flow\u003C\u002Fcode\u003E: run the flow type check\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Enpm run kill\u003C\u002Fcode\u003E: kill the node server occupying the port 4100.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"code-styles\"\u003ECode Styles \u003Ca class=\"markdownIt-Anchor\" href=\"#code-styles\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EWe use prettier, tslint, and editorconfig to enforce consistent styles across the whole project, so that we will not bikeshed on coding styles in the code review.\u003C\u002Fp\u003E\n\u003Cp\u003EHowever, please visit our \u003Ca href=\"\u002Fcontributing.html\"\u003EContributing Code\u003C\u002Fa\u003E before submitting your code.\u003C\u002Fp\u003E\n\u003Ch2 id=\"architecture\"\u003EArchitecture \u003Ca class=\"markdownIt-Anchor\" href=\"#architecture\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fdohtidfqh\u002Fimage\u002Fupload\u002Fv1546379050\u002Fweb-guiguio\u002Fonefx-architecture.png\" alt=\"Onefx Architecture\"\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-txt\"\u003E.\n├── README.md\n├── ava.config.js           \u002F\u002F ava test util configuration\n├── babel.config.js         \u002F\u002F babel compiler\u002Ftranspiler configuration\n├── babel-register.js.      \u002F\u002F babel register options\n├── config                  \u002F\u002F project configuration\n│   ├── default.js          \u002F\u002F base config to be extended in all env\n│   ├── development.js      \u002F\u002F config in NODE_ENV=development\n│   ├── production.js       \u002F\u002F config in NODE_ENV=production\n│   └── test.js             \u002F\u002F config in NODE_ENV=test\n├── coverage                \u002F\u002F test coverage\n├── dist                    \u002F\u002F destination for src build result\n├── gulpfile.babel.js       \u002F\u002F gulp task runner config\n├── package.json\n├── renovate.json           \u002F\u002F renovate bot to automate dependency bumps\n├── server.ts               \u002F\u002F project entry\n├── src                               \u002F\u002F source code\n│   ├── api-gateway                   \u002F\u002F APIs server defined in GraphQL for the clients to call\n│   │   ├── api-gateway.graphql\n│   │   ├── api-gateway.ts\n│   │   └── resolvers\n│   │       └── meta-resolver.ts\n│   ├── client                        \u002F\u002F browser-side source code\n│   │   ├── javascripts\n│   │   │   └── main.tsx\n│   │   ├── static\n│   │   │   ├── favicon.png\n│   │   │   ├── manifest.json\n│   │   │   └── robots.txt\n│   │   └── stylesheets\n│   │       └── main.scss\n│   ├── model                         \u002F\u002F data models\n│   │   ├── index.ts\n│   │   └── model.ts\n│   ├── server                        \u002F\u002F onefx server\n│   │   ├── index.ts\n│   │   ├── middleware                \u002F\u002F koa middleware\n│   │   │   ├── index.ts\n│   │   │   ├── manifest-middleware.ts\n│   │   │   └── set-middleware.ts\n│   │   ├── server-routes.tsx          \u002F\u002F server-side routes\n│   │   └── start-server.tsx           \u002F\u002F server initialization\n│   └── shared                        \u002F\u002F js code shared by both the server and the client\n│       ├── app-container.ts\n│       ├── app.ts\n│       ├── common\n│       ├── home\n│       │   └── home.ts\n│       └── register-service-worker.js\n├── translations          \u002F\u002F translations supported in this website\n│   ├── en.yaml\n│   └── zh-cn.yaml\n├── Procfile                \u002F\u002F heroku Procfile\n└── webpack.js            \u002F\u002F webpack bundler config\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch1 id=\"guides\"\u003EGuides \u003Ca class=\"markdownIt-Anchor\" href=\"#guides\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh1\u003E\n\u003Ch2 id=\"state-management\"\u003EState management \u003Ca class=\"markdownIt-Anchor\" href=\"#state-management\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EWe use redux to manage state in onefx.js. To pass the state from the server to the initial page during the server-side rendering, in the server use \u003Ccode\u003Ectx.setState(path, val)\u003C\u002Fcode\u003E to set the state:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003Eserver.get(\u003Cspan class=\"hljs-string\"\u003E'SPA'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E'\u002F*'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EonRoute\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Ectx\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  ctx.setState(\u003Cspan class=\"hljs-string\"\u003E'base.sampleState'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E'this is a sample initial state'\u003C\u002Fspan\u003E);\n  ctx.body = ctx.isoReactRender({\n    \u003Cspan class=\"hljs-attr\"\u003EVDom\u003C\u002Fspan\u003E: (\n      \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EAppContainer\u003C\u002Fspan\u003E\u002F&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    ),\n    \u003Cspan class=\"hljs-attr\"\u003Ereducer\u003C\u002Fspan\u003E: noopReducer,\n    \u003Cspan class=\"hljs-attr\"\u003EclientScript\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'\u002Fmain.js'\u003C\u002Fspan\u003E,\n  });\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EAnd use the state in the react component:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E SampleStateContainer = connect(\n  \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Estate\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E ({\u003Cspan class=\"hljs-attr\"\u003Etext\u003C\u002Fspan\u003E: state.base.sampleState})\n)(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ESampleState\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E{text}\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E (\n    \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{text}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  );\n});\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"styling\"\u003EStyling \u003Ca class=\"markdownIt-Anchor\" href=\"#styling\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EWe support both global styles with \u003Ca href=\"https:\u002F\u002Fsass-lang.com\u002Fguide\"\u003Esass\u003C\u002Fa\u003E in \u003Ccode\u003E.\u002Fsrc\u002Fclient\u002Fstylesheets\u002Fmain.scss\u003C\u002Fcode\u003E and modular styles with \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fstyletron\u002Fstyletron\u002Fblob\u002Fmaster\u002Fpackages\u002Fstyletron-react\u002FREADME.md\"\u003Estyletron-react\u003C\u002Fa\u003E:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003Eimport react from 'react';\nimport {styled} from 'onefx\u002Flib\u002Fstyletron-react';\n\nconst Panel = styled('div', {\n  backgroundColor: 'silver',\n});\n\nexport default &lt;Panel&gt;Hello&lt;\u002FPanel&gt;;\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"routing\"\u003ERouting \u003Ca class=\"markdownIt-Anchor\" href=\"#routing\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003Eserver-side routing is using \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Falexmingoia\u002Fkoa-router\"\u003Ekoa-router\u003C\u002Fa\u003E and located in \u003Ccode\u003E.\u002Fsrc\u002Fserver\u002Fserver-routes.js\u003C\u002Fcode\u003E. The basic usage is:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003Eserver\n  .get(\u003Cspan class=\"hljs-string\"\u003E'\u002F'\u003C\u002Fspan\u003E, (ctx, next) =&gt; {\n    ctx.body = \u003Cspan class=\"hljs-string\"\u003E'Hello World!'\u003C\u002Fspan\u003E;\n  })\n  .post(\u003Cspan class=\"hljs-string\"\u003E'\u002Fusers'\u003C\u002Fspan\u003E, (ctx, next) =&gt; {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n  })\n  .put(\u003Cspan class=\"hljs-string\"\u003E'\u002Fusers\u002F:id'\u003C\u002Fspan\u003E, (ctx, next) =&gt; {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n  })\n  .del(\u003Cspan class=\"hljs-string\"\u003E'\u002Fusers\u002F:id'\u003C\u002Fspan\u003E, (ctx, next) =&gt; {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n  })\n  .all(\u003Cspan class=\"hljs-string\"\u003E'\u002Fusers\u002F:id'\u003C\u002Fspan\u003E, (ctx, next) =&gt; {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n  });\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003Eclient-side routing is using \u003Ca href=\"https:\u002F\u002Freacttraining.com\u002Freact-router\u002Fweb\u002Fguides\u002Fquick-start\"\u003Ereact-router v4\u003C\u002Fa\u003E and located in \u003Ccode\u003E.\u002Fsrc\u002Fshared\u002Fapp.js\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E&lt;Switch&gt;\n  \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ERoute\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eexact\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E'\u002F'\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{Home}\u002F\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ERoute\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{NotFound}\u002F\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ESwitch\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"fetching-data\"\u003EFetching data \u003Ca class=\"markdownIt-Anchor\" href=\"#fetching-data\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EWe use Apollo Graphql and TypeGraphQL for universal rendering with React. For detailed documentation, please visit:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Ftypegraphql.ml\u002Fdocs\u002Fgetting-started.html\"\u003EDefine GraphQL schemas in TypeScript\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.apollographql.com\u002Fdocs\u002Ftutorial\u002Fqueries\u002F\"\u003ELearn how to fetch data with the Apollo Query component\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch3 id=\"make-a-query\"\u003EMake a query \u003Ca class=\"markdownIt-Anchor\" href=\"#make-a-query\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EIn \u003Ccode\u003Esrc\u002Fapi-gateway\u002Fresolvers\u002F\u003C\u002Fcode\u003E, define a new resolver and method. Take the meta data endpoint of the server health for example.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { Query, Resolver, ResolverInterface } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E\"type-graphql\"\u003C\u002Fspan\u003E;\n\n@Resolver(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003E_\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EString\u003C\u002Fspan\u003E)\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-class\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eclass\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EMetaResolver\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Eimplements\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EResolverInterface\u003C\u002Fspan\u003E&lt;() \u003C\u002Fspan\u003E=&gt; \u003Cspan class=\"hljs-built_in\"\u003EString\u003C\u002Fspan\u003E&gt; {\n  @Query(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003E_\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EString\u003C\u002Fspan\u003E, { \u003Cspan class=\"hljs-attr\"\u003Edescription\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E\"is the server healthy?\"\u003C\u002Fspan\u003E })\n  public \u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E health(): \u003Cspan class=\"hljs-built_in\"\u003EPromise\u003C\u002Fspan\u003E&lt;string&gt; {\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E\"OK\"\u003C\u002Fspan\u003E;\n  }\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003Eand then in \u003Ccode\u003Eapi-gateway.ts\u003C\u002Fcode\u003E, mount the resolver.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E resolvers = [MetaResolver];\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENow the server is ready and you can call the \u003Ccode\u003Ehealth\u003C\u002Fcode\u003E endpoint at \u003Ca href=\"https:\u002F\u002Flocalhost:5000\u002Fapi-gateway\u002F\"\u003Ehttps:\u002F\u002Flocalhost:5000\u002Fapi-gateway\u002F\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EThe next step is to call it from the React component.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E GET_HEALTH = gql\u003Cspan class=\"hljs-string\"\u003E`\n  {\n    health\n  }\n`\u003C\u002Fspan\u003E;\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-&lt;js&gt;&lt;\u002Fjs&gt;\"\u003E&lt;Query query={GET_HEALTH} ssr={false} fetchPolicy=&quot;network-only&quot;&gt;\n   {({\n     loading,\n     error,\n     data\n   }: QueryResult&lt;{ health: string }&gt;) =&gt; {\n     if (loading) {\n       return (\n         &lt;div&gt;\n           &lt;Icon type=&quot;loading&quot; \u002F&gt; Checking Status\n         &lt;\u002Fdiv&gt;\n       );\n     }\n     if (error) {\n       return (\n         &lt;div&gt;\n           &lt;Icon\n             type=&quot;close-circle&quot;\n             theme=&quot;twoTone&quot;\n             twoToneColor={colors.error}\n           \u002F&gt;{&quot; &quot;}\n           Not OK\n         &lt;\u002Fdiv&gt;\n       );\n     }\n\n     return (\n       &lt;div&gt;\n         &lt;Icon\n           type=&quot;check-circle&quot;\n           theme=&quot;twoTone&quot;\n           twoToneColor={colors.success}\n         \u002F&gt;{&quot; &quot;}\n         {data &amp;&amp; data.health}\n       &lt;\u002Fdiv&gt;\n     );\n   }}\n&lt;\u002FQuery&gt;\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"internationalization\"\u003EInternationalization \u003Ca class=\"markdownIt-Anchor\" href=\"#internationalization\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EOnefx reads translations from \u003Ccode\u003E.\u002Ftranslations\u003C\u002Fcode\u003E directory. Please create a file there named with a corresponding locale, for example, \u003Ccode\u003Een.yaml\u003C\u002Fcode\u003E. And then add an entry\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-yaml\"\u003E\u003Cspan class=\"hljs-attr\"\u003Ehomepage.hello:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ehello,\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E${userName}!\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"react-client-side\"\u003EReact \u002F Client-side \u003Ca class=\"markdownIt-Anchor\" href=\"#react-client-side\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003Eand then in the react view file (client-side)\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E {t} \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'onefx\u002Flib\u002Fiso-i18n'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EGreetings\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E (\n    \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{t('homepage.hello', {userName: 'John'})}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  );\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EWhen users visit this site with \u003Ccode\u003Eaccept-language: en\u003C\u002Fcode\u003E in the header, which is set by the browser, then they will see translated greetings. If you want to explicitly set the locale, then visit the page with a query string \u003Ccode\u003E?locale=en\u003C\u002Fcode\u003E then it will memorize this in the cookie.\u003C\u002Fp\u003E\n\u003Ch3 id=\"server-side\"\u003EServer-side \u003Ca class=\"markdownIt-Anchor\" href=\"#server-side\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003E\u003Ccode\u003Et\u003C\u002Fcode\u003E singleton function does not work in the server-side because the async calls may switch the context and mix it with requests from other languages. In this case, please use \u003Ccode\u003Ectx.t\u003C\u002Fcode\u003E instead.\u003C\u002Fp\u003E\n\u003Ch2 id=\"testing\"\u003ETesting \u003Ca class=\"markdownIt-Anchor\" href=\"#testing\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003Etest files are supposed to be placed in any module like \u003Ccode\u003E.\u002F__test__\u002Fexample.test.js\u003C\u002Fcode\u003E in \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Favajs\u002Fava\u002Ftree\u002Fmaster\u002Fdocs\"\u003Eava test utils\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E test \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'ava'\u003C\u002Fspan\u003E;\n\ntest(\u003Cspan class=\"hljs-string\"\u003E'testname'\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E t =&gt; {\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n});\n\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"security\"\u003ESecurity \u003Ca class=\"markdownIt-Anchor\" href=\"#security\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EOnefx enables secure web app development with\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ECSRF protection that can be exempted at \u003Ccode\u003E.\u002Fconfig\u002Fdefault.js\u003C\u002Fcode\u003E (\u003Ccode\u003Econfig.server.noCsrfRoutes\u003C\u002Fcode\u003E)\u003C\u002Fli\u003E\n\u003Cli\u003EHelmet headers that can be exempted at \u003Ccode\u003Econfig.server.noSecurityHeadersRoutes\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003EContent Security Policy configured at \u003Ccode\u003Econfig.csp\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003Efor example, in \u003Ccode\u003Edefault.js\u003C\u002Fcode\u003E,\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E  server: {\n    \u003Cspan class=\"hljs-attr\"\u003EnoSecurityHeadersRoutes\u003C\u002Fspan\u003E: {\n      \u003Cspan class=\"hljs-string\"\u003E'\u002Fembed\u002Fcheckout\u002F'\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E,\n    },\n    \u003Cspan class=\"hljs-attr\"\u003EnoCsrfRoutes\u003C\u002Fspan\u003E: {\n      \u003Cspan class=\"hljs-string\"\u003E'\u002Fapi-gateway\u002F'\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E,\n    },\n  },\n  \u003Cspan class=\"hljs-attr\"\u003Ecsp\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-string\"\u003E'default-src'\u003C\u002Fspan\u003E: [\n      \u003Cspan class=\"hljs-string\"\u003E'none'\u003C\u002Fspan\u003E,\n    ],\n  }\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"static-assets\"\u003EStatic assets \u003Ca class=\"markdownIt-Anchor\" href=\"#static-assets\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EStatic assets are placed in \u003Ccode\u003E.\u002Fclient\u002Fstatic\u002F\u003C\u002Fcode\u003E and loaded into the root directory of the website. Take \u003Ccode\u003E.\u002Fclient\u002Fstatic\u002Ffavicon.png\u003C\u002Fcode\u003E for example, you can get it at \u003Ca href=\"http:\u002F\u002Flocalhost:4100\u002Ffavicon.png\"\u003Ehttp:\u002F\u002Flocalhost:4100\u002Ffavicon.png\u003C\u002Fa\u003E, or use it in the react component:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E {assetURL} \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'onefx\u002Flib\u002Fasset-url'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EImgExample\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E (\n    \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eimg\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Esrc\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{assetURL(\u003C\u002Fspan\u003E'\u003Cspan class=\"hljs-attr\"\u003Efavicon.png\u003C\u002Fspan\u003E')}\u002F&gt;\u003C\u002Fspan\u003E\n  );\n}\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"configuration\"\u003EConfiguration \u003Ca class=\"markdownIt-Anchor\" href=\"#configuration\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Ch3 id=\"environment-variables\"\u003EEnvironment variables \u003Ca class=\"markdownIt-Anchor\" href=\"#environment-variables\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EThe environment variable is read from commandline as well as \u003Ccode\u003E.env\u003C\u002Fcode\u003E file. Take \u003Ccode\u003EPORT\u003C\u002Fcode\u003E for example,\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003EPORT=4004 npm run watch\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003Eor in \u003Ccode\u003E.env\u003C\u002Fcode\u003E file\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-env\"\u003EPORT=4004\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIn the js file, you can read the value by \u003Ccode\u003Eprocess.env.PORT\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"static-configuration\"\u003EStatic configuration \u003Ca class=\"markdownIt-Anchor\" href=\"#static-configuration\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EThe static configuration is located in \u003Ccode\u003E.\u002Fconfig\u003C\u002Fcode\u003E and can be read according to the environment variable \u003Ccode\u003ENODE_ENV\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"cdn\"\u003ECDN \u003Ca class=\"markdownIt-Anchor\" href=\"#cdn\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003EIf you want to setup CDN for the static resources, I recommend \u003Ca href=\"https:\u002F\u002Fbunnycdn.com\u002F?ref=qrv5hbyzrq\"\u003EBunnyCDN\u003C\u002Fa\u003E for its ease-of-use and cost-effectiveness. Then configure OneFx as\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"hljs-built_in\"\u003Emodule\u003C\u002Fspan\u003E.exports = {\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Eserver\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003EcdnBase\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E'https:\u002F\u002Fexample-cdn.net'\u003C\u002Fspan\u003E,\n  }\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n}\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EAnd then when loading static assets, you just follow the same practice with the static assets.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E {assetURL} \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E'onefx\u002Flib\u002Fasset-url'\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EImgExample\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E (\n    \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eimg\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Esrc\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{assetURL(\u003C\u002Fspan\u003E'\u003Cspan class=\"hljs-attr\"\u003Efavicon.png\u003C\u002Fspan\u003E')}\u002F&gt;\u003C\u002Fspan\u003E\n  );\n}\n\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"references\"\u003EReferences \u003Ca class=\"markdownIt-Anchor\" href=\"#references\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003ETech Stack\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Freactjs.org\u002F\"\u003Ereact - view\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Frtsao\u002Fstyletron\"\u003Estyletron - local style in JS\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003Esass - global style in sass\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fcss-tricks.com\u002Fsnippets\u002Fcss\u002Fa-guide-to-flexbox\u002F\"\u003Eflexbox - view layout\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fredux.js.org\u002F\"\u003Eredux - state management\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"http:\u002F\u002Fkoajs.com\u002F\"\u003EKoa.js - server\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.apollographql.com\u002F\"\u003Egraphql apollo - api gateway\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fmongoosejs.com\u002F\"\u003EMongoDB mongoose - database ODM\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\n\u003Cp\u003E\u003Ca href=\"http:\u002F\u002Fdocs.sequelizejs.com\u002F\"\u003EMySQL sequalize - database ORM\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EDesign Resources\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fcarbondesignsystem.com\u002F\"\u003ECarbon Design System\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Ffontawesome.io\u002F\"\u003EFont Awesome\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.flaticon.com\u002F\"\u003Eflaticon - icons and graphics\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"roadmap\"\u003ERoadmap \u003Ca class=\"markdownIt-Anchor\" href=\"#roadmap\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003EVision: Onefx = fusionjs-like presentation layer + django-like admin portal + react-native-made mobile app + minimalist (SRE infra + data pipeline)\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EMVP\n\u003Col\u003E\n\u003Cli\u003EGetting started\n\u003Col\u003E\n\u003Cli\u003E[x] Create a project\u003C\u002Fli\u003E\n\u003Cli\u003E[x] Run your project\u003C\u002Fli\u003E\n\u003Cli\u003EFramework Comparison\u003C\u002Fli\u003E\n\u003Cli\u003E[x] Coding Styles\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EGuides\n\u003Col\u003E\n\u003Cli\u003E[x] State management\u003C\u002Fli\u003E\n\u003Cli\u003E[x] styling\n\u003Col\u003E\n\u003Cli\u003E[x] import styles\u003C\u002Fli\u003E\n\u003Cli\u003E[x] modular styles (now we have global root provider dependency on styletron)\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E[x] Routing\u003C\u002Fli\u003E\n\u003Cli\u003EFetching data\u003C\u002Fli\u003E\n\u003Cli\u003EForms\u003C\u002Fli\u003E\n\u003Cli\u003E[x] Internationalization\u003C\u002Fli\u003E\n\u003Cli\u003E[x] testing\u003C\u002Fli\u003E\n\u003Cli\u003Etyping\u003C\u002Fli\u003E\n\u003Cli\u003E[x] security\u003C\u002Fli\u003E\n\u003Cli\u003EUniversal rendering\u003C\u002Fli\u003E\n\u003Cli\u003EServer code\u003C\u002Fli\u003E\n\u003Cli\u003EPerformance\u003C\u002Fli\u003E\n\u003Cli\u003Eautomatic code splitting\u003C\u002Fli\u003E\n\u003Cli\u003Edebugging\u003C\u002Fli\u003E\n\u003Cli\u003E[x] Static assets\u003C\u002Fli\u003E\n\u003Cli\u003E[x] Configuration\u003C\u002Fli\u003E\n\u003Cli\u003EWorking with Secrets\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003Ever 1.0.0 Web\n\u003Col\u003E\n\u003Cli\u003Eyarn create\u003C\u002Fli\u003E\n\u003Cli\u003EAuth: Sign in \u002F sign up \u002F forgot-password\u003C\u002Fli\u003E\n\u003Cli\u003EAdmin Site\u003C\u002Fli\u003E\n\u003Cli\u003EBoilerplates\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EVer 2.0.0 Mobile\n\u003Col\u003E\n\u003Cli\u003EReact native, Apollo graphql\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EVer 3.0.0 Infra\n\u003Col\u003E\n\u003Cli\u003EKubernetes\u003C\u002Fli\u003E\n\u003Cli\u003Emetrics\u003C\u002Fli\u003E\n\u003Cli\u003Elogging\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003EVer 4.0.0 Data Pipeline\n\u003Col\u003E\n\u003Cli\u003EELK\u003C\u002Fli\u003E\n\u003Cli\u003EBI platform\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch2 id=\"run-on-windows\"\u003ERun on Windows \u003Ca class=\"markdownIt-Anchor\" href=\"#run-on-windows\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Col\u003E\n\u003Cli\u003Einstall \u003Ca href=\"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fwindows\u002Fwsl\u002Finstall-win10\"\u003EWindows Subsystem for Linux\u003C\u002Fa\u003E. Choose Ubuntu, for example.\u003C\u002Fli\u003E\n\u003Cli\u003EOn WSL Ubuntu, install node version manager and install the latest lts dubnium\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Ecurl -o- https:\u002F\u002Fraw.githubusercontent.com\u002Fcreationix\u002Fnvm\u002Fv0.33.11\u002Finstall.sh | bash\n\u003Cspan class=\"hljs-built_in\"\u003Eexport\u003C\u002Fspan\u003E NVM_DIR=\u003Cspan class=\"hljs-string\"\u003E\"\u003Cspan class=\"hljs-variable\"\u003E$HOME\u003C\u002Fspan\u003E\u002F.nvm\"\u003C\u002Fspan\u003E\n[ -s \u003Cspan class=\"hljs-string\"\u003E\"\u003Cspan class=\"hljs-variable\"\u003E$NVM_DIR\u003C\u002Fspan\u003E\u002Fnvm.sh\"\u003C\u002Fspan\u003E ] &amp;&amp; \\. \u003Cspan class=\"hljs-string\"\u003E\"\u003Cspan class=\"hljs-variable\"\u003E$NVM_DIR\u003C\u002Fspan\u003E\u002Fnvm.sh\"\u003C\u002Fspan\u003E  \u003Cspan class=\"hljs-comment\"\u003E# This loads nvm\u003C\u002Fspan\u003E\n[ -s \u003Cspan class=\"hljs-string\"\u003E\"\u003Cspan class=\"hljs-variable\"\u003E$NVM_DIR\u003C\u002Fspan\u003E\u002Fbash_completion\"\u003C\u002Fspan\u003E ] &amp;&amp; \\. \u003Cspan class=\"hljs-string\"\u003E\"\u003Cspan class=\"hljs-variable\"\u003E$NVM_DIR\u003C\u002Fspan\u003E\u002Fbash_completion\"\u003C\u002Fspan\u003E  \u003Cspan class=\"hljs-comment\"\u003E# This loads nvm bash_completion\u003C\u002Fspan\u003E\n\nnvm ls\nnvm install lts\u002FDubnium\nnvm use lts\u002Fdubnium\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Col start=\"3\"\u003E\n\u003Cli\u003Eclone repo to \u003Ccode\u003EC:\u002F\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"hljs-built_in\"\u003Ecd\u003C\u002Fspan\u003E \u002Fmnt\u002Fc\u002F\ngit \u003Cspan class=\"hljs-built_in\"\u003Eclone\u003C\u002Fspan\u003E https:\u002F\u002Fgithub.com\u002Fpuncsky\u002Fweb-onefx-boilerplate.git\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Col start=\"4\"\u003E\n\u003Cli\u003Einstall \u003Ca href=\"https:\u002F\u002Fcode.visualstudio.com\u002F\"\u003EVS Code\u003C\u002Fa\u003E and open WSL terminal with ctrl + ` . Not sure about WSL terminal? Go to \u003Ca href=\"https:\u002F\u002Fblogs.msdn.microsoft.com\u002Fcommandline\u002F2017\u002F10\u002F27\u002Frunning-node-js-on-wsl-from-visual-studio-code\u002F\"\u003Ethis post\u003C\u002Fa\u003E.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch1 id=\"mobile\"\u003EMobile \u003Ca class=\"markdownIt-Anchor\" href=\"#mobile\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh1\u003E\n\u003Ch2 id=\"create-a-project-2\"\u003ECreate a project \u003Ca class=\"markdownIt-Anchor\" href=\"#create-a-project-2\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Egit \u003Cspan class=\"hljs-built_in\"\u003Eclone\u003C\u002Fspan\u003E https:\u002F\u002Fgithub.com\u002Fpuncsky\u002Fmobile-onefx-boilerplate.git my-awesome-mobile-project\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch2 id=\"run-your-project-2\"\u003ERun your project \u003Ca class=\"markdownIt-Anchor\" href=\"#run-your-project-2\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"hljs-built_in\"\u003Ecd\u003C\u002Fspan\u003E my-awesome-mobile-project\n\nnvm use 10.15.0\nnpm install\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch3 id=\"development-mode-2\"\u003EDevelopment mode \u003Ca class=\"markdownIt-Anchor\" href=\"#development-mode-2\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh3\u003E\n\u003Cp\u003ETo run your project in development mode, run:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"language-bash\"\u003Enpm run start\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n","__typename":"RecArticle"},"ROOT_QUERY":{"article({\"id\":\"onefx\"})":{"type":"id","generated":true,"id":"$ROOT_QUERY.article({\"id\":\"onefx\"})","typename":"RecArticle"}}}}}</script>
    
  </head>
  <body>
    <div id='root'><div class="_ae _af _ag _ah"><div><div class="_ai _aj _ak _al _am _an _ao _ap _aq _ar _as _at _au _av _aw _ax _ay _az _b0 _b1"><div class="_aj _ai _b1"><a class="_b2 _an" href="/"><div class="_b3 _b4 _b5 _b6 _b1 _at _b7 _b8"></div></a><div class="_b9"></div><a class="_ap _ba _bb _bc _bd _be " href="/">OneFx</a></div><div class="_aj _ai _b1"><div class="_bf _bg"><a class="_ap _bh _bb _bc _bd _be _bi _bj _bk _bl" href="/">HOME</a><a class="_ap _bh _bb _bc _bd _be _bi _bj _bk _bl" href="/doc.html">DOCUMENT</a><a class="_ap _bh _bb _bc _bd _be _bi _bj _bk _bl" href="/contributing.html">CONTRIBUTING</a></div></div><div class="_bc _bm _bn _bo _bp"><svg width="30" height="30" viewBox="0 0 30 30" xmlns="https://www.w3.org/2000/svg"><path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><div class="_bc _bm _bg _bo _bp _bq"><svg width="20" height="20" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icons" stroke="currentColor" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Utils" transform="translate(-380.000000, -100.000000)" fill="currentColor"><g id="icons" transform="translate(20.000000, 20.000000)"><polygon id="close-[#1511]" points="371.4489 89.9997 380.0029 98.5537 378.5559 99.9997 370.0029 91.4457 361.4489 99.9997 360.0029 98.5537 368.5559 89.9997 360.0029 81.4457 361.4489 79.9997 370.0029 88.5537 378.5559 79.9997 380.0029 81.4457"></polygon></g></g></g></svg></div></div><div class="_br _bs _ao"></div></div><div style="min-height:calc(100vh - 141px)"><div style="margin:18px"></div><div style="width:100%"><div class="_at _av _aw _ax _ay _az _b0"><div class="_ai _bt _aj _bp _bu _b1 _bv _bw _al _at _bx _by"><div style="max-width:1320px;width:100%"><div class="_ai _bt _aj _bp _bu _b1 _bv _bw _al _bz _bx _by"><div class="_ai _bt _c0 _ak _c1 _b1 _bv _c2 _al _c3 _bx _bj _by"><article class="_c4 _at _c5"><h1>OneFx Documentation</h1> <div><h1 id="getting-started">Getting Started <a class="markdownIt-Anchor" href="#getting-started"><span class="markdownIt-Link-Anchor"></span></a></h1>
<p>OneFx is a full-stack framework for building web apps. Here are the features you’ll find in Onefx.js:</p>
<ul>
<li>Server-side rendering and universal rendering with React and Redux</li>
<li>Apollo GraphQL (docs + playground), ES2017, TypeScript, TSX support out of the box</li>
<li>Server-side development via Koa.js</li>
</ul>
<h2 id="create-a-project">Create a project <a class="markdownIt-Anchor" href="#create-a-project"><span class="markdownIt-Link-Anchor"></span></a></h2>
<pre><code class="language-bash">git <span class="hljs-built_in">clone</span> https://github.com/puncsky/web-onefx-boilerplate.git my-awesome-project
</code></pre>
<h2 id="run-your-project">Run your project <a class="markdownIt-Anchor" href="#run-your-project"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>This is intended for *nix users. If you use Windows, go to <a href="#run-on-windows">Run on Windows</a>. Let’s first prepare the environment.</p>
<pre><code class="language-bash"><span class="hljs-built_in">cd</span> my-awesome-project

nvm use 10.15.0
npm install

<span class="hljs-comment"># prepare environment variable</span>
cp ./.env.tmpl ./.env
</code></pre>
<h3 id="development-mode">Development mode <a class="markdownIt-Anchor" href="#development-mode"><span class="markdownIt-Link-Anchor"></span></a></h3>
<p>To run your project in development mode, run:</p>
<pre><code class="language-bash">npm run watch
</code></pre>
<p>The development site will be available at <a href="http://localhost:5000">http://localhost:5000</a>.</p>
<h3 id="production-mode">Production Mode <a class="markdownIt-Anchor" href="#production-mode"><span class="markdownIt-Link-Anchor"></span></a></h3>
<p>It’s sometimes useful to run a project in production mode, for example, to check bundle size or to debug a production-only issue. To run your project in production mode locally, run:</p>
<pre><code class="language-bash">npm run build-production
NODE_ENV=production npm run start
</code></pre>
<h3 id="npm-scripts">NPM scripts <a class="markdownIt-Anchor" href="#npm-scripts"><span class="markdownIt-Link-Anchor"></span></a></h3>
<ul>
<li><code>npm run test</code>: test the whole project and generate a test coverage</li>
<li><code>npm run ava ./path/to/test-file.js</code>: run a specific test file</li>
<li><code>npm run build</code>: build source code from <code>src</code> to <code>dist</code></li>
<li><code>npm run lint</code>: run the linter</li>
<li><code>npm run flow</code>: run the flow type check</li>
<li><code>npm run kill</code>: kill the node server occupying the port 4100.</li>
</ul>
<h2 id="code-styles">Code Styles <a class="markdownIt-Anchor" href="#code-styles"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>We use prettier, tslint, and editorconfig to enforce consistent styles across the whole project, so that we will not bikeshed on coding styles in the code review.</p>
<p>However, please visit our <a href="/contributing.html">Contributing Code</a> before submitting your code.</p>
<h2 id="architecture">Architecture <a class="markdownIt-Anchor" href="#architecture"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p><img src="https://res.cloudinary.com/dohtidfqh/image/upload/v1546379050/web-guiguio/onefx-architecture.png" alt="Onefx Architecture"></p>
<pre><code class="language-txt">.
├── README.md
├── ava.config.js           // ava test util configuration
├── babel.config.js         // babel compiler/transpiler configuration
├── babel-register.js.      // babel register options
├── config                  // project configuration
│   ├── default.js          // base config to be extended in all env
│   ├── development.js      // config in NODE_ENV=development
│   ├── production.js       // config in NODE_ENV=production
│   └── test.js             // config in NODE_ENV=test
├── coverage                // test coverage
├── dist                    // destination for src build result
├── gulpfile.babel.js       // gulp task runner config
├── package.json
├── renovate.json           // renovate bot to automate dependency bumps
├── server.ts               // project entry
├── src                               // source code
│   ├── api-gateway                   // APIs server defined in GraphQL for the clients to call
│   │   ├── api-gateway.graphql
│   │   ├── api-gateway.ts
│   │   └── resolvers
│   │       └── meta-resolver.ts
│   ├── client                        // browser-side source code
│   │   ├── javascripts
│   │   │   └── main.tsx
│   │   ├── static
│   │   │   ├── favicon.png
│   │   │   ├── manifest.json
│   │   │   └── robots.txt
│   │   └── stylesheets
│   │       └── main.scss
│   ├── model                         // data models
│   │   ├── index.ts
│   │   └── model.ts
│   ├── server                        // onefx server
│   │   ├── index.ts
│   │   ├── middleware                // koa middleware
│   │   │   ├── index.ts
│   │   │   ├── manifest-middleware.ts
│   │   │   └── set-middleware.ts
│   │   ├── server-routes.tsx          // server-side routes
│   │   └── start-server.tsx           // server initialization
│   └── shared                        // js code shared by both the server and the client
│       ├── app-container.ts
│       ├── app.ts
│       ├── common
│       ├── home
│       │   └── home.ts
│       └── register-service-worker.js
├── translations          // translations supported in this website
│   ├── en.yaml
│   └── zh-cn.yaml
├── Procfile                // heroku Procfile
└── webpack.js            // webpack bundler config
</code></pre>
<h1 id="guides">Guides <a class="markdownIt-Anchor" href="#guides"><span class="markdownIt-Link-Anchor"></span></a></h1>
<h2 id="state-management">State management <a class="markdownIt-Anchor" href="#state-management"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>We use redux to manage state in onefx.js. To pass the state from the server to the initial page during the server-side rendering, in the server use <code>ctx.setState(path, val)</code> to set the state:</p>
<pre><code class="language-js">server.get(<span class="hljs-string">'SPA'</span>, <span class="hljs-string">'/*'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onRoute</span>(<span class="hljs-params">ctx</span>) </span>{
  ctx.setState(<span class="hljs-string">'base.sampleState'</span>, <span class="hljs-string">'this is a sample initial state'</span>);
  ctx.body = ctx.isoReactRender({
    <span class="hljs-attr">VDom</span>: (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AppContainer</span>/&gt;</span></span>
    ),
    <span class="hljs-attr">reducer</span>: noopReducer,
    <span class="hljs-attr">clientScript</span>: <span class="hljs-string">'/main.js'</span>,
  });
});
</code></pre>
<p>And use the state in the react component:</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> SampleStateContainer = connect(
  <span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> ({<span class="hljs-attr">text</span>: state.base.sampleState})
)(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SampleState</span>(<span class="hljs-params">{text}</span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{text}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
});
</code></pre>
<h2 id="styling">Styling <a class="markdownIt-Anchor" href="#styling"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>We support both global styles with <a href="https://sass-lang.com/guide">sass</a> in <code>./src/client/stylesheets/main.scss</code> and modular styles with <a href="https://github.com/styletron/styletron/blob/master/packages/styletron-react/README.md">styletron-react</a>:</p>
<pre><code class="language-js">import react from 'react';
import {styled} from 'onefx/lib/styletron-react';

const Panel = styled('div', {
  backgroundColor: 'silver',
});

export default &lt;Panel&gt;Hello&lt;/Panel&gt;;
</code></pre>
<h2 id="routing">Routing <a class="markdownIt-Anchor" href="#routing"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>server-side routing is using <a href="https://github.com/alexmingoia/koa-router">koa-router</a> and located in <code>./src/server/server-routes.js</code>. The basic usage is:</p>
<pre><code class="language-js">server
  .get(<span class="hljs-string">'/'</span>, (ctx, next) =&gt; {
    ctx.body = <span class="hljs-string">'Hello World!'</span>;
  })
  .post(<span class="hljs-string">'/users'</span>, (ctx, next) =&gt; {
    <span class="hljs-comment">// ...</span>
  })
  .put(<span class="hljs-string">'/users/:id'</span>, (ctx, next) =&gt; {
    <span class="hljs-comment">// ...</span>
  })
  .del(<span class="hljs-string">'/users/:id'</span>, (ctx, next) =&gt; {
    <span class="hljs-comment">// ...</span>
  })
  .all(<span class="hljs-string">'/users/:id'</span>, (ctx, next) =&gt; {
    <span class="hljs-comment">// ...</span>
  });
</code></pre>
<p>client-side routing is using <a href="https://reacttraining.com/react-router/web/guides/quick-start">react-router v4</a> and located in <code>./src/shared/app.js</code>.</p>
<pre><code class="language-js">&lt;Switch&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">exact</span> <span class="hljs-attr">path</span>=<span class="hljs-string">'/'</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{Home}/</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{NotFound}/</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Switch</span>&gt;</span>
</span></code></pre>
<h2 id="fetching-data">Fetching data <a class="markdownIt-Anchor" href="#fetching-data"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>We use Apollo Graphql and TypeGraphQL for universal rendering with React. For detailed documentation, please visit:</p>
<ol>
<li><a href="https://typegraphql.ml/docs/getting-started.html">Define GraphQL schemas in TypeScript</a></li>
<li><a href="https://www.apollographql.com/docs/tutorial/queries/">Learn how to fetch data with the Apollo Query component</a></li>
</ol>
<h3 id="make-a-query">Make a query <a class="markdownIt-Anchor" href="#make-a-query"><span class="markdownIt-Link-Anchor"></span></a></h3>
<p>In <code>src/api-gateway/resolvers/</code>, define a new resolver and method. Take the meta data endpoint of the server health for example.</p>
<pre><code class="language-js"><span class="hljs-keyword">import</span> { Query, Resolver, ResolverInterface } <span class="hljs-keyword">from</span> <span class="hljs-string">"type-graphql"</span>;

@Resolver(<span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> <span class="hljs-built_in">String</span>)
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MetaResolver</span> <span class="hljs-title">implements</span> <span class="hljs-title">ResolverInterface</span>&lt;() </span>=&gt; <span class="hljs-built_in">String</span>&gt; {
  @Query(<span class="hljs-function"><span class="hljs-params">_</span> =&gt;</span> <span class="hljs-built_in">String</span>, { <span class="hljs-attr">description</span>: <span class="hljs-string">"is the server healthy?"</span> })
  public <span class="hljs-keyword">async</span> health(): <span class="hljs-built_in">Promise</span>&lt;string&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-string">"OK"</span>;
  }
}
</code></pre>
<p>and then in <code>api-gateway.ts</code>, mount the resolver.</p>
<pre><code class="language-js">  <span class="hljs-keyword">const</span> resolvers = [MetaResolver];
</code></pre>
<p>Now the server is ready and you can call the <code>health</code> endpoint at <a href="https://localhost:5000/api-gateway/">https://localhost:5000/api-gateway/</a>.</p>
<p>The next step is to call it from the React component.</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> GET_HEALTH = gql<span class="hljs-string">`
  {
    health
  }
`</span>;
</code></pre>
<pre><code class="language-&lt;js&gt;&lt;/js&gt;">&lt;Query query={GET_HEALTH} ssr={false} fetchPolicy=&quot;network-only&quot;&gt;
   {({
     loading,
     error,
     data
   }: QueryResult&lt;{ health: string }&gt;) =&gt; {
     if (loading) {
       return (
         &lt;div&gt;
           &lt;Icon type=&quot;loading&quot; /&gt; Checking Status
         &lt;/div&gt;
       );
     }
     if (error) {
       return (
         &lt;div&gt;
           &lt;Icon
             type=&quot;close-circle&quot;
             theme=&quot;twoTone&quot;
             twoToneColor={colors.error}
           /&gt;{&quot; &quot;}
           Not OK
         &lt;/div&gt;
       );
     }

     return (
       &lt;div&gt;
         &lt;Icon
           type=&quot;check-circle&quot;
           theme=&quot;twoTone&quot;
           twoToneColor={colors.success}
         /&gt;{&quot; &quot;}
         {data &amp;&amp; data.health}
       &lt;/div&gt;
     );
   }}
&lt;/Query&gt;
</code></pre>
<h2 id="internationalization">Internationalization <a class="markdownIt-Anchor" href="#internationalization"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>Onefx reads translations from <code>./translations</code> directory. Please create a file there named with a corresponding locale, for example, <code>en.yaml</code>. And then add an entry</p>
<pre><code class="language-yaml"><span class="hljs-attr">homepage.hello:</span> <span class="hljs-string">hello,</span> <span class="hljs-string">${userName}!</span>
</code></pre>
<h3 id="react-client-side">React / Client-side <a class="markdownIt-Anchor" href="#react-client-side"><span class="markdownIt-Link-Anchor"></span></a></h3>
<p>and then in the react view file (client-side)</p>
<pre><code class="language-js"><span class="hljs-keyword">import</span> {t} <span class="hljs-keyword">from</span> <span class="hljs-string">'onefx/lib/iso-i18n'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Greetings</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{t('homepage.hello', {userName: 'John'})}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>When users visit this site with <code>accept-language: en</code> in the header, which is set by the browser, then they will see translated greetings. If you want to explicitly set the locale, then visit the page with a query string <code>?locale=en</code> then it will memorize this in the cookie.</p>
<h3 id="server-side">Server-side <a class="markdownIt-Anchor" href="#server-side"><span class="markdownIt-Link-Anchor"></span></a></h3>
<p><code>t</code> singleton function does not work in the server-side because the async calls may switch the context and mix it with requests from other languages. In this case, please use <code>ctx.t</code> instead.</p>
<h2 id="testing">Testing <a class="markdownIt-Anchor" href="#testing"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>test files are supposed to be placed in any module like <code>./__test__/example.test.js</code> in <a href="https://github.com/avajs/ava/tree/master/docs">ava test utils</a>.</p>
<pre><code class="language-js"><span class="hljs-keyword">import</span> test <span class="hljs-keyword">from</span> <span class="hljs-string">'ava'</span>;

test(<span class="hljs-string">'testname'</span>, <span class="hljs-keyword">async</span> t =&gt; {
  <span class="hljs-comment">// ...</span>
});

</code></pre>
<h2 id="security">Security <a class="markdownIt-Anchor" href="#security"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>Onefx enables secure web app development with</p>
<ol>
<li>CSRF protection that can be exempted at <code>./config/default.js</code> (<code>config.server.noCsrfRoutes</code>)</li>
<li>Helmet headers that can be exempted at <code>config.server.noSecurityHeadersRoutes</code></li>
<li>Content Security Policy configured at <code>config.csp</code></li>
</ol>
<p>for example, in <code>default.js</code>,</p>
<pre><code class="language-js">  server: {
    <span class="hljs-attr">noSecurityHeadersRoutes</span>: {
      <span class="hljs-string">'/embed/checkout/'</span>: <span class="hljs-literal">true</span>,
    },
    <span class="hljs-attr">noCsrfRoutes</span>: {
      <span class="hljs-string">'/api-gateway/'</span>: <span class="hljs-literal">true</span>,
    },
  },
  <span class="hljs-attr">csp</span>: {
    <span class="hljs-string">'default-src'</span>: [
      <span class="hljs-string">'none'</span>,
    ],
  }
</code></pre>
<h2 id="static-assets">Static assets <a class="markdownIt-Anchor" href="#static-assets"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>Static assets are placed in <code>./client/static/</code> and loaded into the root directory of the website. Take <code>./client/static/favicon.png</code> for example, you can get it at <a href="http://localhost:4100/favicon.png">http://localhost:4100/favicon.png</a>, or use it in the react component:</p>
<pre><code class="language-js"><span class="hljs-keyword">import</span> {assetURL} <span class="hljs-keyword">from</span> <span class="hljs-string">'onefx/lib/asset-url'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ImgExample</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{assetURL(</span>'<span class="hljs-attr">favicon.png</span>')}/&gt;</span>
  );
}
</span></code></pre>
<h2 id="configuration">Configuration <a class="markdownIt-Anchor" href="#configuration"><span class="markdownIt-Link-Anchor"></span></a></h2>
<h3 id="environment-variables">Environment variables <a class="markdownIt-Anchor" href="#environment-variables"><span class="markdownIt-Link-Anchor"></span></a></h3>
<p>The environment variable is read from commandline as well as <code>.env</code> file. Take <code>PORT</code> for example,</p>
<pre><code class="language-bash">PORT=4004 npm run watch
</code></pre>
<p>or in <code>.env</code> file</p>
<pre><code class="language-env">PORT=4004
</code></pre>
<p>In the js file, you can read the value by <code>process.env.PORT</code>.</p>
<h3 id="static-configuration">Static configuration <a class="markdownIt-Anchor" href="#static-configuration"><span class="markdownIt-Link-Anchor"></span></a></h3>
<p>The static configuration is located in <code>./config</code> and can be read according to the environment variable <code>NODE_ENV</code>.</p>
<h3 id="cdn">CDN <a class="markdownIt-Anchor" href="#cdn"><span class="markdownIt-Link-Anchor"></span></a></h3>
<p>If you want to setup CDN for the static resources, I recommend <a href="https://bunnycdn.com/?ref=qrv5hbyzrq">BunnyCDN</a> for its ease-of-use and cost-effectiveness. Then configure OneFx as</p>
<pre><code class="language-js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-attr">server</span>: {
    <span class="hljs-comment">// ...</span>
    <span class="hljs-attr">cdnBase</span>: <span class="hljs-string">'https://example-cdn.net'</span>,
  }
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>And then when loading static assets, you just follow the same practice with the static assets.</p>
<pre><code class="language-js"><span class="hljs-keyword">import</span> {assetURL} <span class="hljs-keyword">from</span> <span class="hljs-string">'onefx/lib/asset-url'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ImgExample</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{assetURL(</span>'<span class="hljs-attr">favicon.png</span>')}/&gt;</span>
  );
}
</span></code></pre>
<h2 id="references">References <a class="markdownIt-Anchor" href="#references"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>Tech Stack</p>
<ul>
<li>
<p><a href="https://reactjs.org/">react - view</a></p>
<ul>
<li><a href="https://github.com/rtsao/styletron">styletron - local style in JS</a></li>
<li>sass - global style in sass</li>
<li><a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">flexbox - view layout</a></li>
</ul>
</li>
<li>
<p><a href="https://redux.js.org/">redux - state management</a></p>
</li>
<li>
<p><a href="http://koajs.com/">Koa.js - server</a></p>
</li>
<li>
<p><a href="https://www.apollographql.com/">graphql apollo - api gateway</a></p>
</li>
<li>
<p><a href="https://mongoosejs.com/">MongoDB mongoose - database ODM</a></p>
</li>
<li>
<p><a href="http://docs.sequelizejs.com/">MySQL sequalize - database ORM</a></p>
</li>
</ul>
<p>Design Resources</p>
<ul>
<li><a href="http://carbondesignsystem.com/">Carbon Design System</a></li>
<li><a href="http://fontawesome.io/">Font Awesome</a></li>
<li><a href="https://www.flaticon.com/">flaticon - icons and graphics</a></li>
</ul>
<h2 id="roadmap">Roadmap <a class="markdownIt-Anchor" href="#roadmap"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p>Vision: Onefx = fusionjs-like presentation layer + django-like admin portal + react-native-made mobile app + minimalist (SRE infra + data pipeline)</p>
<ol>
<li>MVP
<ol>
<li>Getting started
<ol>
<li>[x] Create a project</li>
<li>[x] Run your project</li>
<li>Framework Comparison</li>
<li>[x] Coding Styles</li>
</ol>
</li>
<li>Guides
<ol>
<li>[x] State management</li>
<li>[x] styling
<ol>
<li>[x] import styles</li>
<li>[x] modular styles (now we have global root provider dependency on styletron)</li>
</ol>
</li>
<li>[x] Routing</li>
<li>Fetching data</li>
<li>Forms</li>
<li>[x] Internationalization</li>
<li>[x] testing</li>
<li>typing</li>
<li>[x] security</li>
<li>Universal rendering</li>
<li>Server code</li>
<li>Performance</li>
<li>automatic code splitting</li>
<li>debugging</li>
<li>[x] Static assets</li>
<li>[x] Configuration</li>
<li>Working with Secrets</li>
</ol>
</li>
</ol>
</li>
<li>ver 1.0.0 Web
<ol>
<li>yarn create</li>
<li>Auth: Sign in / sign up / forgot-password</li>
<li>Admin Site</li>
<li>Boilerplates</li>
</ol>
</li>
<li>Ver 2.0.0 Mobile
<ol>
<li>React native, Apollo graphql</li>
</ol>
</li>
<li>Ver 3.0.0 Infra
<ol>
<li>Kubernetes</li>
<li>metrics</li>
<li>logging</li>
</ol>
</li>
<li>Ver 4.0.0 Data Pipeline
<ol>
<li>ELK</li>
<li>BI platform</li>
</ol>
</li>
</ol>
<h2 id="run-on-windows">Run on Windows <a class="markdownIt-Anchor" href="#run-on-windows"><span class="markdownIt-Link-Anchor"></span></a></h2>
<ol>
<li>install <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Windows Subsystem for Linux</a>. Choose Ubuntu, for example.</li>
<li>On WSL Ubuntu, install node version manager and install the latest lts dubnium</li>
</ol>
<pre><code class="language-bash">curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash
<span class="hljs-built_in">export</span> NVM_DIR=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.nvm"</span>
[ -s <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/nvm.sh"</span> ] &amp;&amp; \. <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/nvm.sh"</span>  <span class="hljs-comment"># This loads nvm</span>
[ -s <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/bash_completion"</span> ] &amp;&amp; \. <span class="hljs-string">"<span class="hljs-variable">$NVM_DIR</span>/bash_completion"</span>  <span class="hljs-comment"># This loads nvm bash_completion</span>

nvm ls
nvm install lts/Dubnium
nvm use lts/dubnium
</code></pre>
<ol start="3">
<li>clone repo to <code>C:/</code></li>
</ol>
<pre><code class="language-bash"><span class="hljs-built_in">cd</span> /mnt/c/
git <span class="hljs-built_in">clone</span> https://github.com/puncsky/web-onefx-boilerplate.git
</code></pre>
<ol start="4">
<li>install <a href="https://code.visualstudio.com/">VS Code</a> and open WSL terminal with ctrl + ` . Not sure about WSL terminal? Go to <a href="https://blogs.msdn.microsoft.com/commandline/2017/10/27/running-node-js-on-wsl-from-visual-studio-code/">this post</a>.</li>
</ol>
<h1 id="mobile">Mobile <a class="markdownIt-Anchor" href="#mobile"><span class="markdownIt-Link-Anchor"></span></a></h1>
<h2 id="create-a-project-2">Create a project <a class="markdownIt-Anchor" href="#create-a-project-2"><span class="markdownIt-Link-Anchor"></span></a></h2>
<pre><code class="language-bash">git <span class="hljs-built_in">clone</span> https://github.com/puncsky/mobile-onefx-boilerplate.git my-awesome-mobile-project
</code></pre>
<h2 id="run-your-project-2">Run your project <a class="markdownIt-Anchor" href="#run-your-project-2"><span class="markdownIt-Link-Anchor"></span></a></h2>
<pre><code class="language-bash"><span class="hljs-built_in">cd</span> my-awesome-mobile-project

nvm use 10.15.0
npm install
</code></pre>
<h3 id="development-mode-2">Development mode <a class="markdownIt-Anchor" href="#development-mode-2"><span class="markdownIt-Link-Anchor"></span></a></h3>
<p>To run your project in development mode, run:</p>
<pre><code class="language-bash">npm run start
</code></pre>
</div></article></div><div class="_ai _bt _aj _ak _c1 _b1 _bv _bw _al _c6 _bx _c7 _by"><nav style="max-width:300px;padding:8px" class="toc toc-right js-toc relative z-1 transition--300 absolute pa4 top-bar-fixed-top"><div class="js-toc"></div></nav></div></div></div></div></div></div></div><div class="_at _av _aw _ax _ay _az _b0 _ai _aj _al _ak _c8 _c9 _ca _cb _ap"><div class="_ai _bt _aj _ak _c1 _b1 _bv _bw _al _bz _bx _by">Copyright © 2020</div><div><div>Built with <span style="font-size: 12px; color: #F27788;">♥</span> in San Francisco</div> <a target="_blank" rel="noopener noreferrer" href="https://onefx.js.org"><img alt="built with onefx" style="height:20px" src="/built-with-onefx.svg"/></a></div></div></div></div>
    <script type="text/javascript" crossorigin="" src="/main-10d706f9cbf41f3bafd0.js"></script>
  </body>
</html>
